# Railway Environment Configuration - MEMORY OPTIMIZED FOR FREE TIER
# Copy these to Railway Environment Variables

# ===== RAILWAY DETECTION =====
RAILWAY_ENVIRONMENT=true

# ===== MEMORY OPTIMIZATION =====
# CRITICAL: Small batch sizes to prevent OOM on Railway free tier (~512MB RAM)
BULK_UPLOAD_BATCH_SIZE=3      # Only 3 files at a time (vs 60 on Docker)
EMBEDDING_BATCH_SIZE=1         # Only 1 file at a time (vs 15 on Docker)

# ===== LOGGING =====
# Reduce logging to WARNING to save memory
LOG_LEVEL=WARNING

# ===== GOOGLE OAUTH =====
GOOGLE_CLIENT_ID=1037561815320-nto28rqlmfj2os81om1mm6tgjpuk85gs.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# ===== LLM PROVIDER (Choose one) =====
# Option 1: Groq (Recommended for Railway - Free tier, fast, reliable)
LLM_PROVIDER=groq
GROQ_API_KEY=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
GROQ_MODEL=llama-3.1-8b-instant

# Option 2: Gemini (Alternative)
# LLM_PROVIDER=gemini
# GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_MODEL=gemini-2.0-flash-exp

# ===== CORS =====
# Update with your Railway frontend URL
ALLOWED_ORIGINS=https://your-frontend.railway.app,http://localhost:3000

# ===== SERVER =====
HOST=0.0.0.0
PORT=8000
ENVIRONMENT=production

# ===== CHROMADB =====
CHROMA_PERSIST_DIRECTORY=./chroma_db

# ===== DOCUMENT PROCESSING =====
# Smaller limits for Railway
MAX_DOCUMENT_SIZE_MB=10        # Reduced from 50MB
MAX_BULK_UPLOAD_DOCUMENTS=20   # Reduced from 100
CONCURRENT_PROCESSING_LIMIT=1  # Reduced from 5

# ===== RAG CONFIG =====
CHUNK_SIZE=850
CHUNK_OVERLAP=85
MAX_RESULTS=10
SIMILARITY_THRESHOLD=0.7

# ===== RATE LIMITING =====
RATE_LIMIT_PER_MINUTE=30       # Reduced from 60
AUTH_RATE_LIMIT_PER_MINUTE=5
